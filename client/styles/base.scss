// we always want the full width and height of the browser, always
html, body {
  margin: 0 !important;
  padding: 0 !important;
}

// by convention, the class names we have control over follow a scope-noun-verb pattern
// we don't use BEM (Block__Element--Modifier) because quite frankly it's ugly, and of
// course tying class names to elements is a tightly coupled methodology and bad juju
body {
  background: $body-bg;
  font-family: $font-family-sans-serif;
  font-size: $font-size-root;

  // for really old browsers that do no support HTML 5 properly, we ensure
  // nothing funky is displayed by simply wiping out the entire screen
  // and then simply showing a simple message to the user
  &.old-browser > main#application,
  &.old-browser > main#application * {
    background: none !important;
    direction: ltr !important;
    display: none !important;
    font-size: 0 !important;
    height: 0 !important;
    line-height: -9999 !important;
    margin: 0 !important;
    padding: 0 !important;
    position: static !important;
    text-indent: -9999em !important;
    width: 0 !important;
    white-space: normal !important;
  }

  // noscript won't work in a dev build since styles are bundled into the script file, however
  // for a production build it'll work just fine, also bootstrap fonts won't apply here
  > noscript {
    display: block !important;
    line-height: $font-size-root;
    text-align: center;
    position: absolute;
    width: 100%;
    top: 50%;
    margin-top: -$font-size-root;
    padding: $font-size-root;
  }

  > main#application {

    // TODO: ...

    // Globals
    // Links
    a,
    a:focus,
    a:hover {
      color: white;
    }

    /* Custom default button */
    .btn-secondary,
    .btn-secondary:hover,
    .btn-secondary:focus {
      color: #333;
      text-shadow: none; /* Prevent inheritance from `body` */
      background-color: white;
      border: 0.05rem solid white;
    }

    /*
     * Base structure
     */
    html,
    body {
      height: 100%;
      background-color: white;
    }

    body {
      display: -ms-flexbox;
      display: -webkit-box;
      display: flex;
      -ms-flex-pack: center;
      -webkit-box-pack: center;
      justify-content: center;
      color: #333;
    }

    .viking-container {
      max-width: 1400px;
    }

    // Header

    .viking-masthead {
      background-color: white;
    }

    .viking-masthead .viking-logo {
      height: 64px;
    }

    .viking-masthead h1 {
      background-color: #ddd;
      padding: 0.25rem!important;
      font-size: 1rem;
      font-weight: 500;
      line-height: 1.2;
    }

    .viking-pagenav {
      background-color: #2b3d52;
      color: #ccc;
      height: 80px;
    }

    nav {
      padding: 0.5rem 1rem;
    }

    .uk-navbar-center div:last-child .uk-navbar-nav li .uk-icon {
      margin: auto;
    }

    .uk-navbar-center > div:first-child .uk-navbar-nav {
      margin-top: 10px;
    }

    .uk-navbar-center > div:last-child .uk-navbar-nav {
      margin-bottom: 8px;
    }

    .uk-navbar-center .uk-navbar-nav li,
    .uk-navbar-center .uk-navbar-nav {
      z-index: 2;
    }

    .uk-navbar-center div:last-child .uk-navbar-nav li {
      text-align: center;
    }

    .uk-navbar-center div:last-child .uk-navbar-nav li:first-child,
    .uk-navbar-center div:last-child .uk-navbar-nav li:last-child {
      width: 50px;
    }

    .uk-navbar-center div:last-child .uk-navbar-nav li:first-child,
    .uk-navbar-center div:last-child .uk-navbar-nav li:first-child .uk-icon {
      margin-left: 0 !important;
      text-align: left;
      z-index: 2;
    }

    .uk-navbar-center div:last-child .uk-navbar-nav li:last-child,
    .uk-navbar-center div:last-child .uk-navbar-nav li:last-child .uk-icon {
      margin-right: 0 !important;
      text-align: right;
    }

    .uk-navbar-center div:first-child .uk-navbar-nav {
      max-width: 684px;
    }

    .uk-navbar-center div:last-child .uk-navbar-nav {
      max-width: 600px;
    }

    .uk-navbar-center progress {
      bottom: 1rem;
      left: 0;
      right: 0;
      margin: 0 auto;
      height: 4px;
      z-index: 0;
      max-width: 600px;
    }

    .uk-navbar-nav > li > a,
    .uk-navbar-nav > li .uk-icon {
      height: auto;
    }

    .uk-navbar li {
      width: 100px;
    }

    .uk-navbar li a {
      font-family: 'Istok Web', sans-serif;
      font-size: 1rem;
      color: #fcfcfc;
    }

    .uk-navbar li .uk-icon {
      border-radius: 50%;
      border: 2px solid #fcfcfc;
      background: #2b3d52;
      width: 16px;
      height: 16px;
      color: green;
    }

    .uk-navbar li .uk-icon.complete,
    .uk-navbar li .uk-icon.active {
      background: #fcfcfc;
    }

    .uk-navbar li a:focus,
    .uk-navbar li a:hover {
      color: white;
    }

    // Cover

    .viking-cover {
      padding: 0 1.5rem;
    }

    main {
      background-color: #eee;
    }

    main h4 {
      font-size: 1.5rem;
      font-weight: 500;
      line-height: 1.2;
    }

    #viking-summary,
    #viking-summary h6 {
      font-size: 0.9rem;
    }

    #viking-summary .uk-grid-collapse div:not(.uk-first-column) {
      color: black;
    }

    #viking-summary ul {
      max-width: 360px;
    }

    main .uk-radio:checked {
      background-color: #555 !important;
    }

    main select:active {
      border-color: #2b3d52 !important;
    }

    main select option:hover,
    main select option:active{
      background-color: #2b3d52 !important;
    }

    .uk-card {
      position: relative;
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-orient: vertical;
      -webkit-box-direction: normal;
      -ms-flex-direction: column;
      flex-direction: column;
      min-width: 0;
      word-wrap: break-word;
      background-color: white;
      background-clip: border-box;
      border: 1px solid rgba(0, 0, 0, 0.125);
      padding: 1rem;
    }

    .uk-card-default {
      background: white;
      color: #333;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
    }

    p {
      margin-top: 0;
      margin-bottom: 1rem;
    }

    h2 {
      margin-bottom: 0.5rem;
      font-weight: 500;
      line-height: 1.2;
    }

    #viking-content.uk-card .uk-button {
      display: inline-block;
      font-weight: 400;
      text-align: center;
      white-space: nowrap;
      vertical-align: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      border: 1px solid #ced4da;
      padding: 0.225rem 0.75rem;
      font-size: 1rem;
      line-height: 1.5;
      transition: color 0.15s ease-in-out,
        background-color 0.15s ease-in-out,
        border-color 0.15s ease-in-out,
        box-shadow 0.15s ease-in-out;
    }

    #viking-content.uk-card .uk-select:not([multiple]):not([size]) {
      height: calc(2.25rem + 2px);
      padding: 0.375rem 1.75rem 0.375rem 0.75rem;
      line-height: 1.5;
      color: #495057;
      height: 38px;
    }

    #viking-content.uk-card .uk-nav-default > li.uk-parent.uk-open {
      border-bottom: 1px solid #e5e5e5;
    }

    #viking-content.uk-card .uk-nav-default .uk-list li:last-child {
      border-bottom: none;
    }

    #viking-content.uk-card .uk-button {
      text-transform: none;
      border-color: white;
    }

    #viking-content.uk-card .uk-list .uk-button.disabled, .uk-card .uk-list .uk-button:disabled {
      background: #eee;
      color: #999;
      outline: 0;
    }

    #viking-content.uk-card button.uk-button:not(.disabled):not(.uk-accordian-title):hover,
    #viking-content.uk-card button.uk-button:not(.uk-accordian-title).active {
      border-color: #2b3d52 !important;
    }

    #viking-content.uk-card .uk-list .uk-button.active {
      color: white;
      background-color: #2b3d52;
    }

    #viking-content.uk-card .uk-accordian {
      margin-top: 1rem!important;
    }

    #viking-content .uk-accordian > li button {
      border: 1px solid #dee2e6!important;
    }

    #viking-content .uk-accordian .uk-list li .uk-button {
      border: 1px solid transparent!important;
    }

    #viking-content.uk-card .uk-parent > .uk-button {
      border: 1px solid #dee2e6!important;
      padding-right: 0.25rem;
    }

    #viking-content .uk-nav-parent-icon > .uk-parent.uk-open > a::after {
      background-image: url('data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%20%20%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23000%22%20stroke-width%3D%221.1%22%20points%3D%224%2013%2010%207%2016%2013%22%20%2F%3E%0A%3C%2Fsvg%3E');
    }

    #viking-content .uk-nav-parent-icon > .uk-parent > a::after {
      background-image: url('data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2214%22%20height%3D%2214%22%20viewBox%3D%220%200%2014%2014%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%20%20%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23000%22%20stroke-width%3D%221.1%22%20points%3D%221%204%207%2010%2013%204%22%20%2F%3E%0A%3C%2Fsvg%3E');
    }

    #viking-content .viking-dropdown-toggle::after {
      background-image: url('data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2214%22%20height%3D%2214%22%20viewBox%3D%220%200%2014%2014%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%20%20%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23000%22%20stroke-width%3D%221.1%22%20points%3D%221%204%207%2010%2013%204%22%20%2F%3E%0A%3C%2Fsvg%3E');
      content: '';
      width: 1.5em;
      height: 1.5em;
      float: right;
      background-repeat: no-repeat;
      background-position: 50% 50%;
    }

    #viking-content .viking-dropdown-toggle.uk-open::after {
      background-image: url('data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%20%20%3Cpolyline%20fill%3D%22none%22%20stroke%3D%22%23000%22%20stroke-width%3D%221.1%22%20points%3D%224%2013%2010%207%2016%2013%22%20%2F%3E%0A%3C%2Fsvg%3E');
    }

    #viking-content .viking-dropdown-toggle{
      padding-right: 0.25rem;
    }

    #viking-content.uk-card .uk-nav-parent-icon .uk-nav-sub .uk-panel {
      resize: none;
      border: none;
      border-right: none;
      border-bottom: none;
    }

    #viking-content .uk-nav-sub > li li, .uk-accordian .uk-list li {
      border: 1px solid #dee2e6;
      border-top: 0;
    }

    #viking-content .uk-accordian .uk-list li div {
      border: 1px solid white;
    }

    #viking-content .uk-radio:checked {
      background-image: url('data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%20%20%3Ccircle%20fill%3D%22%23fff%22%20cx%3D%228%22%20cy%3D%228%22%20r%3D%224%22%20%2F%3E%0A%3C%2Fsvg%3E');
    }

    #viking-actions .uk-button:not(.uk-button-default) {
      background-color: #2b3d52;
      color: #fcfcfc;
    }

    #viking-actions .uk-button:not(.uk-button-default):disabled {
      color: #546e90;
    }

    @media (min-width: 1200px) {
      .viking-cover-container {
        max-width: 1400px;
      }
    }
    // TODO: ...
  }

  > section#page-loader {
    @include size(100%, 100%);
    align-items: center;
    background-color: #eee; // TODO: $bg-highlighted-darkest;
    display: flex;
    justify-content: center;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 999999999999999999;

    &.hide {
      @include fade-out(0.5);
    }

    > div {
      position: relative;
      @include size(50px, 50px);

      svg {
        animation: rotate 2s linear infinite;
        transform-origin: center center;
        @include size(100%, 100%);

        position: absolute;
        top: 0;
        left: 0;

        circle {
          stroke-dasharray: 1, 200;
          stroke-dashoffset: 0;
          animation: dash 1.5s ease-in-out infinite, color 6s ease-in-out infinite;
          stroke-linecap: round;
        }
      }
    }
  }
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

@keyframes rotate {
  100% {
    transform: rotate(360deg);
  }
}

@keyframes dash {
  0% {
    stroke-dasharray: 1, 200;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 89, 200;
    stroke-dashoffset: -35px;
  }

  100% {
    stroke-dasharray: 89, 200;
    stroke-dashoffset: -124px;
  }
}

@keyframes color {
  100%,

  0% {
    stroke: $red;
  }

  40% {
    stroke: $blue;
  }

  66% {
    stroke: $green;
  }

  80%,

  90% {
    stroke: $yellow;
  }
}
